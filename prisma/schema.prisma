generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model StudySpot {
  id                  String    @id @default(auto()) @map("_id") @db.ObjectId
  imageUrl            String?
  name                String
  address             String
  spotType            String
  hours               String?
  phoneNumber         String?
  links               String?   // JSON array of URLs
  hasWifi             Boolean?
  hasOutlets          Boolean?
  hasIndoorSeating    Boolean?
  hasOutdoorSeating   Boolean?
  hasRestroom         Boolean?
  parkingType         String?   // "free", "paid", or null
  acceptsCreditCard   Boolean?
  reviews             Review[]
  createdAt           DateTime  @default(now())
  updatedAt           DateTime  @updatedAt
}

model Review {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  imageUrl    String?
  rating      Int       // 1-5
  priceRange  String    // "$", "$$", "$$$"
  reviewText  String
  reviewDate  DateTime  @db.Date
  studySpot   StudySpot @relation(fields: [studySpotId], references: [id], onDelete: Cascade)
  studySpotId String    @db.ObjectId
  createdAt   DateTime  @default(now())
}
